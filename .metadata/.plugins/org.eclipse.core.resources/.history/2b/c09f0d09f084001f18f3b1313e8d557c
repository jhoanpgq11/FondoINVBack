package com.api.ejemplo.demo.controllers;

import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

import com.api.ejemplo.demo.model.Fondo;
import com.api.ejemplo.demo.service.FondoService;
import org.springframework.web.bind.annotation.*;

import java.util.List;
@RestController
@RequestMapping("/api/fondos")
public class FondoController {
	
    private final FondoService fondoService;

    public FondoController(FondoService fondoService) {
        this.fondoService = fondoService;
    }

    @GetMapping
    public List<Fondo> listarFondos() {
        return fondoService.obtenerTodosLosFondos();
    }

    @PostMapping("/suscribir")
    public String suscribirAFondo(@RequestParam String clienteId, @RequestParam String fondoId) {
        return fondoService.suscribirAFondo(clienteId, fondoId);
    }

    @PostMapping("/cancelar")
    public String cancelarFondo(@RequestParam String clienteId, @RequestParam String fondoId) {
        return fondoService.cancelarFondo(clienteId, fondoId);
    }

}
